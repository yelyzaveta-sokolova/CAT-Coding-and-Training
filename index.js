import{i as E,a as _}from"./assets/vendor-KMtUSH4V.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))L(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&L(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function L(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const u=document.querySelector(".btn-scroll-top");window.addEventListener("scroll",()=>{window.scrollY>300?u.classList.remove("is-btnshow-hide"):u.classList.add("is-btnshow-hide")});u.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})};const v=document.querySelector(".js-observered"),h={root:null,rootMargin:"0px 0px 0px 0px",threshold:.5},g=t=>{if(t[0].isIntersecting){const e=document.getElementsByClassName("marquee-line");Array.from(e).forEach(s=>s.style.animationName="marqueeLine")}else{const e=document.getElementsByClassName("marquee-line");Array.from(e).forEach(s=>s.style.animationName="none")}},N=new IntersectionObserver(g,h);N.observe(v);const l=document.querySelector(".js-footer-form"),n=document.querySelector(".js-footer-form-input"),w=document.querySelector(".js-comment"),i=document.querySelector(".js-message");let c={email:"",comment:""};const y=(t,e,s)=>{n.classList.remove("error","success"),n.classList.add(e),i.textContent=t,i.classList.remove("error","success"),i.classList.add(s),i.classList.remove("is-hidden")},p=()=>{n.value.trim()===""?(n.classList.remove("error","success"),i.textContent="",i.classList.add("is-hidden")):n.checkValidity()?y("Success!","success","success"):y("Invalid email, try again!","error","error")};n.addEventListener("input",p);const A=()=>{c=JSON.parse(localStorage.getItem("comment-form")||"{}"),Object.keys(c).forEach(e=>{l.elements[e]&&(l.elements[e].value=c[e])}),p()};A();const R=t=>{const{name:e,value:s}=t.target;c[e]=s.trim(),localStorage.setItem("comment-form",JSON.stringify(c))};l.addEventListener("input",R);const T=async t=>{if(t.preventDefault(),n.value.trim()===""||w.value.trim()===""){E.error({title:"Error:",message:"Please fill in the input fields"});return}const e="https://portfolio-js.b.goit.study/api/requests/";try{const s=await _.post(e,{email:c.email,comment:c.comment});console.log(s),l.reset(),localStorage.removeItem("comment-form")}catch{E.error({title:"Error:",message:"Error sending request. Try again."})}};l.addEventListener("submit",T);const M=document.querySelector(".js-footer-form-btn"),m=document.querySelector(".modal-window"),a=document.querySelector(".modal-overlay"),S=document.querySelector(".close-modal-btn"),O=document.querySelector(".js-footer-form");M.onclick=function(t){t.preventDefault(),m.style.display="block",a.style.display="block",setTimeout(()=>{m.classList.add("show"),a.classList.add("show")},10)};S.onclick=function(){f()};window.onclick=function(t){t.target==a&&(f(),O.reset())};window.addEventListener("keydown",t=>{t.key==="Escape"&&f()});S.addEventListener("click",()=>{O.reset()});function f(){m.classList.remove("show"),a.classList.remove("show"),setTimeout(()=>{m.style.display="none",a.style.display="none"},1e3)}
//# sourceMappingURL=index.js.map
