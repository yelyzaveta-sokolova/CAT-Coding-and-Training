import{i as d,a as _}from"./assets/vendor-KMtUSH4V.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))L(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&L(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function L(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const f=document.querySelector(".btn-scroll-top");window.addEventListener("scroll",()=>{window.scrollY>300?f.classList.remove("is-btnshow-hide"):f.classList.add("is-btnshow-hide")});f.onclick=()=>{window.scrollTo({top:0,behavior:"smooth"})};const v=document.querySelector(".js-observered"),h={root:null,rootMargin:"0px 0px 0px 0px",threshold:.5},g=t=>{if(t[0].isIntersecting){const e=document.getElementsByClassName("marquee-line");Array.from(e).forEach(s=>s.style.animationName="marqueeLine")}else{const e=document.getElementsByClassName("marquee-line");Array.from(e).forEach(s=>s.style.animationName="none")}},N=new IntersectionObserver(g,h);N.observe(v);const l=document.querySelector(".js-footer-form"),n=document.querySelector(".js-footer-form-input"),A=document.querySelector(".js-comment"),i=document.querySelector(".js-message");let c={email:"",comment:""};const y=(t,e,s)=>{n.classList.remove("error","success"),n.classList.add(e),i.textContent=t,i.classList.remove("error","success"),i.classList.add(s),i.classList.remove("is-hidden")},S=()=>{n.value.trim()===""?(n.classList.remove("error","success"),i.textContent="",i.classList.add("is-hidden")):n.checkValidity()?y("Success!","success","success"):y("Invalid email, try again!","error","error")};n.addEventListener("input",S);const M=()=>{c=JSON.parse(localStorage.getItem("comment-form")||"{}"),Object.keys(c).forEach(e=>{l.elements[e]&&(l.elements[e].value=c[e])}),S()};M();const R=t=>{const{name:e,value:s}=t.target;c[e]=s.trim(),localStorage.setItem("comment-form",JSON.stringify(c))};l.addEventListener("input",R);const w=async t=>{if(t.preventDefault(),n.value.trim()===""||A.value.trim()===""){d.error({title:"Error:",message:"Please fill in the input fields"});return}const e="https://portfolio-js.b.goit.study/api/requests/";try{const s=await _.post(e,{email:c.email,comment:c.comment});console.log(s),l.reset(),localStorage.removeItem("comment-form")}catch{d.error({title:"Error:",message:"Error sending request. Try again."})}};l.addEventListener("submit",w);const T=document.querySelector(".js-footer-form-btn"),m=document.querySelector(".modal-window"),a=document.querySelector(".modal-overlay"),p=document.querySelector(".close-modal-btn"),O=document.querySelector(".js-footer-form"),q=document.querySelector(".js-footer-form-input"),I=document.querySelector(".js-comment");T.onclick=function(t){if(t.preventDefault(),q.value.trim()===""||I.value.trim()===""){d.error({title:"Error:",message:"Please fill in the input fields"});return}m.style.display="block",a.style.display="block",setTimeout(()=>{m.classList.add("show"),a.classList.add("show")},10)};p.onclick=function(){E()};window.onclick=function(t){t.target==a&&(E(),O.reset())};window.addEventListener("keydown",t=>{t.key==="Escape"&&E()});p.addEventListener("click",()=>{O.reset()});function E(){m.classList.remove("show"),a.classList.remove("show"),setTimeout(()=>{m.style.display="none",a.style.display="none"},1e3)}
//# sourceMappingURL=index.js.map
